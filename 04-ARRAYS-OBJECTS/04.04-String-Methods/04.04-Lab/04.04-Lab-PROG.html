<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Lab 04.02</title>
    
	<style>
    
        body { 
            background-color: #555;
            color: #555;
            font-family: sans-serif;
            text-align: center;
        }

        .container {
            margin: 50px auto;
            padding: 30px;
            border-radius: 10px;
            border: 3px solid #999;
            width: 650px;
            height: 65vh;
            background-color: #ccc;
        }

        img {
            width: 90px; 
            float:left; 
            padding-right:30px;
        }

    </style>

</head>

<body>

    <div class="container">

        <h1>Lab 04.04 Solution</h1>
        <h2>Working with String Methods</h2>

    </div>
    
    <script>

       // 04.04 Lab Solution

        // Given this array of vegetables:
        const veggies = ['Cucumber', 'Tomato', 'Kale'];

        // 1. Use the replace() method and array items to log the expected message to the console:
        let msg1 = "Have you ever ordered the Sandwich?";
        msg1 = msg1.replace('Sandwich', veggies[0] + ' Sandwich')
        console.log(msg1); // Have you ever ordered the Cucumber Sandwich?

        // 2. Use the replace() method and array items to log the expected message to the console:
        let msg2 = 'The "T" in "BLT" stands for "Terminator."';
        msg2 = msg2.replace('Terminator', veggies[1]);
        console.log(msg2); // The "T" in "BLT" stands for "Tomato."

        // 3. Use the replace() method and array items to log the expected message to the console:
        let msg3 = "Bunny goes to Yale University.";
        msg3 = msg3.replace('Yale', veggies[2]);
        console.log(msg3); // Bunny goes to Kale University." 

        // Given this array of phrases: 
        const phrases = ["A real customer", "A breeze", "Hangin' with the kids", "Snoopy is a dog"];

        // 4. Using string methods and concatenation, make "cool" the next to the last word
        // no matter which phrase is chosen. Expected output is one of the following:
        /// a real cool customer, a cool breeze, hanging out with the cool kids, Snoopy is a cool dog
        // Since we can't predict what the random phrase will be, we cannot use the replace() 
        // method on a hard-coded last word of the string
        // So, where does cool need to go? It needs to go in at the last space location.
        // What string method returns the last space of a phrase: lastIndexOf(" ")
        // test this on phrases[0], which is the first item in phrases
        // Save the last index of the the space to a variable
        let lastSpaceIndex = phrases[0].lastIndexOf(' ');
        console.log('phrases[0] Index Of last Space:', lastSpaceIndex);

        // then use the slice() method twice: once to get everything up to (but not including) the first space
        // use the slice() method again to get everything from the last space to the end of the string
        // concatenate the two slices together--with " cool " in between.
        let coolPhrase = phrases[0].slice(0, lastSpaceIndex) + " cool" + phrases[0].slice(lastSpaceIndex);
        console.log("Cool phrase 0 test:", coolPhrase);

        // test the result with a random number in the range of the array
        let r = Math.floor(Math.random() * phrases.length); // 0-3 range
        lastSpaceIndex = phrases[r].lastIndexOf(' ');

        coolPhrase = phrases[r].slice(0, lastSpaceIndex) + " cool" + phrases[r].slice(lastSpaceIndex);

        // get the index of the last space of the new, randomly selected phrase
        // concatenate the two slices together--with " cool " in between.
        console.log("Random cool phrase:", coolPhrase);

        // Given this array of fruits and vegetables:
        const words = ['Avocado', 'Broccoli', 'Cauliflower', 'Dragonfruit', 'Eggplant'];
        // 5. Use the includes() method and if-else logic to check if the word starts with a consonant or a vowel
        // If the word is "Avocado", log: Avocado starts with "A", which is a vowel.
        // If the word is "Broccoli", log: Broccoli starts with "B", which is a consonant.
        r = Math.floor(Math.random() * words.length); // 0-4 range
        let word = words[r];
        let firstChar = word[0];
        console.log('firstChar', firstChar);
        let vowels = 'aeiouAEIOU';
        if(vowels.includes(firstChar)) { // if the word starts with a vowel
            console.log(`${word} starts with "${firstChar}", which is a vowel`);
        } else {
            console.log(`${word} starts with "${firstChar}", which is a consonant`);
        }

        // REFACTOR: Since the if-else console logs differ only in one word: vowel / consonant,
        // better would be to have a variable "consonant" that the if statements sets to "vowel" 
        // and then concat that "consonant" or "vowel" variable into the output:
        // Try it again:
        console.log('\nREFACTORED to be more concise code:');
        let consonantOrVowel = "consonant";
        if(vowels.includes(firstChar)) consonantOrVowel = "vowel";
        console.log(`${word} starts with "${firstChar}", which is a ${consonantOrVowel}`);

        // Given this file name:
        let fileName = "Mets-Lead-Off-Game-By-Hitting-Three-Straight-Homers.html";
        // 6. Turn the file name into a news headline, with all words capitalized:
        // Expected result: 
        // Mets Lead Off Game By Hitting Three Straight Homers
        let wordsArr = fileName.split('-');
        console.log(wordsArr); // ['Mets', 'Lead', 'Off', 'Game', 'By', 'Hitting' .. etc.]
        let headline = wordsArr.join(' ');
        // remove the file extension, but don't assume '.html' -- detect the dot
        // and remove everything from the dot to the end of the string
        let indexOfDot = headline.indexOf('.');
        headline = headline.slice(0, indexOfDot);
        // use slice() method to get everything from the beginning of the string to
        // to dot (but not includding the dot)
        console.log(headline);

        // REFACTOR: 
        headlineFromFileName = fileName.replaceAll('-', ' ');
        indexOfDot = headlineFromFileName.indexOf('.');
        headlineFromFileName = headlineFromFileName.slice(0, indexOfDot);
        console.log(headlineFromFileName);

        // END: Lab 04.04
        // NEXT: Lesson 05.01  

    </script>
    
</body>

</html>